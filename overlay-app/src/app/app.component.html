<div class="overlay-container h-screen w-full bg-balatro-bg flex flex-col">
  <!-- Compact header bar -->
  <header class="balatro-panel flex items-center justify-between px-2 py-1.5 rounded-none border-x-0 border-t-0">
    <div class="flex items-center gap-1.5">
      <span class="text-balatro-accent font-bold text-[11px] tracking-wide">OVERLAY</span>
      @if (isConnected()) {
        <span class="status-dot connected"></span>
      } @else {
        <span class="status-dot disconnected"></span>
      }
    </div>
    <div class="flex items-center">
      <button
        (click)="toggleClickThrough()"
        class="btn-icon text-[10px]"
        title="Toggle click-through (Alt+Click to interact)">
        <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M15 15l-2 5L9 9l11 4-5 2zm0 0l5 5M7.188 2.239l.777 2.897M5.136 7.965l-2.898-.777M13.95 4.05l-2.122 2.122m-5.657 5.656l-2.12 2.122"/>
        </svg>
      </button>
      <button
        (click)="minimize()"
        class="btn-icon text-[10px]"
        title="Minimize overlay">
        <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 12H4"/>
        </svg>
      </button>
    </div>
  </header>

  <!-- Main content area -->
  <main class="flex-1 overflow-y-auto px-1.5 py-1">
    @if (!isConnected()) {
      <div class="flex flex-col items-center justify-center h-full text-center px-4">
        <div class="balatro-card p-4 max-w-[200px]">
          <div class="text-white/30 text-2xl mb-2">ðŸŽ´</div>
          <p class="text-white/60 text-xs">Waiting for Balatro...</p>
          <p class="text-white/30 text-[10px] mt-1">Launch game with mod installed</p>
        </div>
      </div>
    } @else {
      <div class="space-y-1.5">
        <!-- Phase indicator -->
        <div class="balatro-card px-2 py-1.5 flex items-center justify-between">
          <span class="section-header !mb-0 !px-0">Phase</span>
          <span class="text-balatro-accent text-xs font-medium">{{ phase() | uppercase }}</span>
        </div>

        <app-deck-tracker />
        <router-outlet></router-outlet>
      </div>
    }
  </main>

  <!-- Minimal status bar -->
  <footer class="px-2 py-0.5 bg-black/20 border-t border-balatro-border text-[9px] text-white/30 flex justify-between">
    <span>v0.1.0</span>
    <span>{{ phase() }}</span>
  </footer>
</div>
